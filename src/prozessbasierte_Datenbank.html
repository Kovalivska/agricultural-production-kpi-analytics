<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Production KPI Dashboard - Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <style>
        :root {
            --primary: #2c786c;
            --secondary: #ff9800;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --light: #f8f9fa;
            --dark: #343a40;
        }
        
        body {
            background-color: #f5f7fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .dashboard-header {
            background: linear-gradient(135deg, var(--primary), #004445);
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo {
            background-color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: var(--primary);
        }
        
        .filter-section {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }
        
        .nav-tabs .nav-link {
            font-weight: 600;
            color: var(--dark);
            padding: 12px 25px;
            border: none;
            border-radius: 8px 8px 0 0;
        }
        
        .nav-tabs .nav-link.active {
            background-color: var(--primary);
            color: white;
        }
        
        .kpi-card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            transition: transform 0.3s;
            height: 100%;
        }
        
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .kpi-value {
            font-size: 24px;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .kpi-title {
            font-size: 14px;
            color: #6c757d;
            font-weight: 500;
        }
        
        .kpi-icon {
            font-size: 28px;
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }
        
        .metric-group {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .metric-group-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light);
            color: var(--primary);
        }
        
        .chart-container {
            height: 250px;
            margin-top: 15px;
        }
        
        .trend-up {
            color: var(--success);
        }
        
        .trend-down {
            color: var(--danger);
        }
        
        .metric-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .metric-item {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            display: flex;
            justify-content: space-between;
        }
        
        .metric-label {
            font-weight: 500;
            color: #495057;
        }
        
        .metric-value {
            font-weight: 600;
            color: var(--dark);
        }
        
        .status-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        footer {
            background-color: var(--dark);
            color: white;
            padding: 20px 0;
            margin-top: 30px;
            font-size: 14px;
        }
        
        .tab-pane {
            display: none;
        }
        
        .tab-pane.active {
            display: block;
        }
        
        .data-card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .data-table {
            width: 100%;
            font-size: 14px;
        }
        
        .data-table th {
            background-color: #f1f1f1;
            padding: 8px;
            text-align: left;
        }
        
        .data-table td {
            padding: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .data-table tr:last-child td {
            border-bottom: none;
        }
        
        .filter-container {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 180px;
        }
        
        .filter-label {
            font-size: 14px;
            margin-bottom: 5px;
            color: #495057;
            font-weight: 500;
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        @media (max-width: 992px) {
            .chart-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="dashboard-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <div class="logo-container">
                        <div class="logo">
                            <i class="fas fa-carrot"></i>
                        </div>
                        <div>
                            <h1>Production KPI Dashboard</h1>
                            <p class="mb-0">Echtzeit-Überwachung und Analyse der Produktionsleistung</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="d-inline-block bg-white text-dark px-3 py-2 rounded-pill">
                        <i class="fas fa-sync-alt me-2"></i>Zuletzt aktualisiert: <span id="last-updated">13.06.2025 14:28</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container my-4">
        <!-- Filter Section -->
        <div class="filter-section">
            <div class="row g-3">
                <div class="col-md-3">
                    <label class="form-label">Zeitraum</label>
                    <select class="form-select" id="time-period">
                        <option value="day">Tag (Heute: 13.06.2025)</option>
                        <option value="week">Woche (KW 24, 10.06 - 16.06)</option>
                        <option value="month">Monat (Juni 2025)</option>
                        <option value="year">Jahr (2025)</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Artikel</label>
                    <select class="form-select" id="product-select">
                        <option selected>Alle Artikel</option>
                        <option>Kartoffel A</option>
                        <option>Karotte B</option>
                        <option>Zwiebel C</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Schicht</label>
                    <select class="form-select" id="shift-select">
                        <option selected>Alle Schichten</option>
                        <option>Frühschicht (08:00-20:00)</option>
                        <option>Spätschicht (20:00-08:00)</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Einheit</label>
                    <select class="form-select" id="unit-select">
                        <option selected>kg</option>
                        <option>Stück</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <ul class="nav nav-tabs" id="dashboardTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="day-tab" data-bs-toggle="tab" data-bs-target="#day" type="button" role="tab">
                    <i class="fas fa-sun me-2"></i>Tag
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="week-tab" data-bs-toggle="tab" data-bs-target="#week" type="button" role="tab">
                    <i class="fas fa-calendar-week me-2"></i>Woche
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="month-tab" data-bs-toggle="tab" data-bs-target="#month" type="button" role="tab">
                    <i class="fas fa-calendar-alt me-2"></i>Monat
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="year-tab" data-bs-toggle="tab" data-bs-target="#year" type="button" role="tab">
                    <i class="fas fa-calendar-star me-2"></i>Jahr
                </button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content mt-3" id="dashboardTabsContent">
            <!-- Day Tab -->
            <div class="tab-pane fade show active" id="day" role="tabpanel">
                <!-- Top KPIs -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-success bg-opacity-10 text-success">
                                <i class="fas fa-box"></i>
                            </div>
                            <div class="kpi-value">1.250 kg</div>
                            <div class="kpi-title">Gesamte Produktion</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-up"></i> 5,2% vs. Ziel</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-danger bg-opacity-10 text-danger">
                                <i class="fas fa-trash"></i>
                            </div>
                            <div class="kpi-value">150 kg</div>
                            <div class="kpi-title">Gesamter Ausschuss</div>
                            <div class="text-danger mt-1"><i class="fas fa-arrow-up"></i> 2,1% vs. Ziel</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-warning bg-opacity-10 text-warning">
                                <i class="fas fa-euro-sign"></i>
                            </div>
                            <div class="kpi-value">720,50 €</div>
                            <div class="kpi-title">Betriebskosten</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-down"></i> 3,5% vs. Plan</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-primary bg-opacity-10 text-primary">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="kpi-value">0,58 €/kg</div>
                            <div class="kpi-title">Kosten pro kg</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-down"></i> 1,8% vs. Plan</div>
                        </div>
                    </div>
                </div>

                <!-- Metric Groups -->
                <div class="row">
                    <!-- Qualität Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-award me-2"></i>Qualität</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Reklamationen</span>
                                    <span class="metric-value">2</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Nacharbeit Container</span>
                                    <span class="metric-value">5</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Ausschussquote</span>
                                    <span class="metric-value">10,7%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Qualitätskonformität</span>
                                    <span class="metric-value">97,3%</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="qualityChartDay"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Leistung Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-tachometer-alt me-2"></i>Leistung</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Auslastung</span>
                                    <span class="metric-value">85%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Stillstand</span>
                                    <span class="metric-value">15%</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">OEE</span>
                                    <span class="metric-value">78,4%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Rüstzeit</span>
                                    <span class="metric-value">12,5%</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="performanceChartDay"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Kosten Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-euro-sign me-2"></i>Kosten</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Personalkosten</span>
                                    <span class="metric-value">350 €</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Energiekosten</span>
                                    <span class="metric-value">120 €</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Verpackungskosten</span>
                                    <span class="metric-value">200 €</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Sonstige Kosten</span>
                                    <span class="metric-value">50,50 €</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="costChartDay"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Produktivität Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-chart-line me-2"></i>Produktivität</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">kg/Stunde</span>
                                    <span class="metric-value">125</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Container/Stunde</span>
                                    <span class="metric-value">25</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Effizienz</span>
                                    <span class="metric-value">92%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Paletten/Tag</span>
                                    <span class="metric-value">18</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="productivityChartDay"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Week Tab -->
            <div class="tab-pane fade" id="week" role="tabpanel">
                <!-- Top KPIs -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-success bg-opacity-10 text-success">
                                <i class="fas fa-box"></i>
                            </div>
                            <div class="kpi-value">8.750 kg</div>
                            <div class="kpi-title">Gesamte Produktion</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-up"></i> 4,8% vs. Ziel</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-danger bg-opacity-10 text-danger">
                                <i class="fas fa-trash"></i>
                            </div>
                            <div class="kpi-value">980 kg</div>
                            <div class="kpi-title">Gesamter Ausschuss</div>
                            <div class="text-danger mt-1"><i class="fas fa-arrow-up"></i> 1,9% vs. Ziel</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-warning bg-opacity-10 text-warning">
                                <i class="fas fa-euro-sign"></i>
                            </div>
                            <div class="kpi-value">4.980 €</div>
                            <div class="kpi-title">Betriebskosten</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-down"></i> 2,8% vs. Plan</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-primary bg-opacity-10 text-primary">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="kpi-value">0,57 €/kg</div>
                            <div class="kpi-title">Kosten pro kg</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-down"></i> 2,1% vs. Plan</div>
                        </div>
                    </div>
                </div>

                <!-- Metric Groups -->
                <div class="row">
                    <!-- Qualität Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-award me-2"></i>Qualität</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Reklamationen</span>
                                    <span class="metric-value">12</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Nacharbeit Container</span>
                                    <span class="metric-value">35</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Ausschussquote</span>
                                    <span class="metric-value">11,2%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Qualitätskonformität</span>
                                    <span class="metric-value">96,8%</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="qualityChartWeek"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Leistung Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-tachometer-alt me-2"></i>Leistung</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Auslastung</span>
                                    <span class="metric-value">83%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Stillstand</span>
                                    <span class="metric-value">17%</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">OEE</span>
                                    <span class="metric-value">76,5%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Rüstzeit</span>
                                    <span class="metric-value">13,2%</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="performanceChartWeek"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Kosten Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-euro-sign me-2"></i>Kosten</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Personalkosten</span>
                                    <span class="metric-value">2.450 €</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Energiekosten</span>
                                    <span class="metric-value">840 €</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Verpackungskosten</span>
                                    <span class="metric-value">1.400 €</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Sonstige Kosten</span>
                                    <span class="metric-value">290 €</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="costChartWeek"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Produktivität Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-chart-line me-2"></i>Produktivität</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">kg/Stunde</span>
                                    <span class="metric-value">122</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Container/Stunde</span>
                                    <span class="metric-value">24</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Effizienz</span>
                                    <span class="metric-value">90%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Paletten/Woche</span>
                                    <span class="metric-value">125</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="productivityChartWeek"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Month Tab -->
            <div class="tab-pane fade" id="month" role="tabpanel">
                <!-- Top KPIs -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-success bg-opacity-10 text-success">
                                <i class="fas fa-box"></i>
                            </div>
                            <div class="kpi-value">35.200 kg</div>
                            <div class="kpi-title">Gesamte Produktion</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-up"></i> 4,5% vs. Ziel</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-danger bg-opacity-10 text-danger">
                                <i class="fas fa-trash"></i>
                            </div>
                            <div class="kpi-value">3.850 kg</div>
                            <div class="kpi-title">Gesamter Ausschuss</div>
                            <div class="text-danger mt-1"><i class="fas fa-arrow-up"></i> 1,7% vs. Ziel</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-warning bg-opacity-10 text-warning">
                                <i class="fas fa-euro-sign"></i>
                            </div>
                            <div class="kpi-value">20.150 €</div>
                            <div class="kpi-title">Betriebskosten</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-down"></i> 3,2% vs. Plan</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-primary bg-opacity-10 text-primary">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="kpi-value">0,57 €/kg</div>
                            <div class="kpi-title">Kosten pro kg</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-down"></i> 2,3% vs. Plan</div>
                        </div>
                    </div>
                </div>

                <!-- Metric Groups -->
                <div class="row">
                    <!-- Qualität Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-award me-2"></i>Qualität</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Reklamationen</span>
                                    <span class="metric-value">48</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Nacharbeit Container</span>
                                    <span class="metric-value">142</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Ausschussquote</span>
                                    <span class="metric-value">10,9%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Qualitätskonformität</span>
                                    <span class="metric-value">97,1%</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="qualityChartMonth"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Leistung Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-tachometer-alt me-2"></i>Leistung</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Auslastung</span>
                                    <span class="metric-value">84%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Stillstand</span>
                                    <span class="metric-value">16%</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">OEE</span>
                                    <span class="metric-value">77,2%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Rüstzeit</span>
                                    <span class="metric-value">12,8%</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="performanceChartMonth"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Kosten Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-euro-sign me-2"></i>Kosten</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Personalkosten</span>
                                    <span class="metric-value">9.800 €</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Energiekosten</span>
                                    <span class="metric-value">3.360 €</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Verpackungskosten</span>
                                    <span class="metric-value">5.600 €</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Sonstige Kosten</span>
                                    <span class="metric-value">1.390 €</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="costChartMonth"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Produktivität Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-chart-line me-2"></i>Produktivität</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">kg/Stunde</span>
                                    <span class="metric-value">124</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Container/Stunde</span>
                                    <span class="metric-value">25</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Effizienz</span>
                                    <span class="metric-value">91%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Paletten/Monat</span>
                                    <span class="metric-value">520</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="productivityChartMonth"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Year Tab -->
            <div class="tab-pane fade" id="year" role="tabpanel">
                <!-- Top KPIs -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-success bg-opacity-10 text-success">
                                <i class="fas fa-box"></i>
                            </div>
                            <div class="kpi-value">425.000 kg</div>
                            <div class="kpi-title">Gesamte Produktion</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-up"></i> 5,1% vs. Ziel</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-danger bg-opacity-10 text-danger">
                                <i class="fas fa-trash"></i>
                            </div>
                            <div class="kpi-value">46.500 kg</div>
                            <div class="kpi-title">Gesamter Ausschuss</div>
                            <div class="text-danger mt-1"><i class="fas fa-arrow-up"></i> 1,5% vs. Ziel</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-warning bg-opacity-10 text-warning">
                                <i class="fas fa-euro-sign"></i>
                            </div>
                            <div class="kpi-value">245.800 €</div>
                            <div class="kpi-title">Betriebskosten</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-down"></i> 3,8% vs. Plan</div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="kpi-card">
                            <div class="kpi-icon bg-primary bg-opacity-10 text-primary">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="kpi-value">0,58 €/kg</div>
                            <div class="kpi-title">Kosten pro kg</div>
                            <div class="text-success mt-1"><i class="fas fa-arrow-down"></i> 2,5% vs. Plan</div>
                        </div>
                    </div>
                </div>

                <!-- Metric Groups -->
                <div class="row">
                    <!-- Qualität Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-award me-2"></i>Qualität</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Reklamationen</span>
                                    <span class="metric-value">576</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Nacharbeit Container</span>
                                    <span class="metric-value">1.704</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Ausschussquote</span>
                                    <span class="metric-value">10,9%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Qualitätskonformität</span>
                                    <span class="metric-value">97,0%</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="qualityChartYear"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Leistung Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-tachometer-alt me-2"></i>Leistung</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Auslastung</span>
                                    <span class="metric-value">84%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Stillstand</span>
                                    <span class="metric-value">16%</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">OEE</span>
                                    <span class="metric-value">77,3%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Rüstzeit</span>
                                    <span class="metric-value">12,7%</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="performanceChartYear"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Kosten Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-euro-sign me-2"></i>Kosten</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Personalkosten</span>
                                    <span class="metric-value">117.600 €</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Energiekosten</span>
                                    <span class="metric-value">40.320 €</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Verpackungskosten</span>
                                    <span class="metric-value">67.200 €</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Sonstige Kosten</span>
                                    <span class="metric-value">20.680 €</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="costChartYear"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Produktivität Group -->
                    <div class="col-md-6">
                        <div class="metric-group">
                            <h3 class="metric-group-title"><i class="fas fa-chart-line me-2"></i>Produktivität</h3>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">kg/Stunde</span>
                                    <span class="metric-value">123</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Container/Stunde</span>
                                    <span class="metric-value">24</span>
                                </div>
                            </div>
                            <div class="metric-row">
                                <div class="metric-item">
                                    <span class="metric-label">Effizienz</span>
                                    <span class="metric-value">91%</span>
                                </div>
                                <div class="metric-item">
                                    <span class="metric-label">Paletten/Jahr</span>
                                    <span class="metric-value">6.240</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="productivityChartYear"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="text-center py-3">
    <p class="mb-0">Production Monitoring © 2025 | Demo-Dashboard für Produktionsprozesse</p>
</footer>

    <!-- Added: Bootstrap JS bundle for tabs + custom script to render charts and wire interactions -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    (function(){
        // Update last updated timestamp
        const lastUpdatedEl = document.getElementById('last-updated');
        if (lastUpdatedEl) {
            const now = new Date();
            const pad = n => String(n).padStart(2,'0');
            lastUpdatedEl.textContent = `${pad(now.getDate())}.${pad(now.getMonth()+1)}.${now.getFullYear()} ${pad(now.getHours())}:${pad(now.getMinutes())}`;
        }

        // Helper to store charts and prevent duplicates
        const charts = {};
        function ensureChart(id, config){
            const canvas = document.getElementById(id);
            if (!canvas) return;
            if (charts[id]) return charts[id];
            charts[id] = new Chart(canvas.getContext('2d'), config);
            return charts[id];
        }

        // Common palettes
        const colors = {
            blue: '#3B82F6', blueFill: 'rgba(59, 130, 246, 0.15)',
            green: '#10B981', greenFill: 'rgba(16, 185, 129, 0.15)',
            amber: '#F59E0B', amberFill: 'rgba(245, 158, 11, 0.15)',
            red: '#EF4444', redFill: 'rgba(239, 68, 68, 0.15)'
        };

        // Simulated datasets
        const hours = Array.from({length: 12}, (_,i) => `${(8+i).toString().padStart(2,'0')}:00`); // 08:00-19:00
        const weekDays = ['Mo','Di','Mi','Do','Fr','Sa','So'];
        const monthDays = Array.from({length: 30}, (_,i)=> i+1);
        const months = ['Jan','Feb','Mär','Apr','Mai','Jun','Jul','Aug','Sep','Okt','Nov','Dez'];

        function initDayCharts(){
            ensureChart('qualityChartDay', {
                type: 'line',
                data: {
                    labels: hours,
                    datasets: [
                        { label: 'Qualitätskonformität %', data: hours.map((_,i)=> 94 + Math.sin(i/2)*3), borderColor: colors.green, backgroundColor: colors.greenFill, fill: true, tension: 0.3 },
                        { label: 'Ausschuss %', data: hours.map((_,i)=> 9 + Math.cos(i/2)*1.5), borderColor: colors.red, backgroundColor: colors.redFill, fill: true, tension: 0.3 }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            ensureChart('performanceChartDay', {
                type: 'line',
                data: {
                    labels: hours,
                    datasets: [
                        { label: 'Auslastung %', data: hours.map((_,i)=> 80 + (i%5)-2), borderColor: colors.blue, backgroundColor: colors.blueFill, fill: true, tension: 0.3 },
                        { label: 'Stillstand %', data: hours.map((_,i)=> 20 - (i%4)), borderColor: colors.amber, backgroundColor: colors.amberFill, fill: true, tension: 0.3 }
                    ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            ensureChart('costChartDay', {
                type: 'bar',
                data: {
                    labels: ['Personal','Energie','Verpackung','Sonstiges'],
                    datasets: [{ label: 'Kosten €', data: [350,120,200,51], backgroundColor: [colors.blue, colors.amber, colors.green, colors.red] }]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });

            ensureChart('productivityChartDay', {
                type: 'line',
                data: {
                    labels: hours,
                    datasets: [ { label: 'kg/Stunde', data: hours.map((_,i)=> 110 + Math.round(Math.sin(i/3)*15)), borderColor: colors.blue, backgroundColor: colors.blueFill, fill: true, tension: 0.3 } ]
                },
                options: { responsive: true, maintainAspectRatio: false }
            });
        }

        function initWeekCharts(){
            ensureChart('qualityChartWeek', {
                type: 'line',
                data: {
                    labels: weekDays,
                    datasets: [
                        { label: 'Qualitätskonformität %', data: [96,96.5,97,96.8,96.9,96.2,96.5], borderColor: colors.green, backgroundColor: colors.greenFill, fill: true, tension: 0.3 },
                        { label: 'Ausschuss %', data: [11.2,10.8,10.5,11.0,11.4,11.6,10.9], borderColor: colors.red, backgroundColor: colors.redFill, fill: true, tension: 0.3 }
                    ]
                }, options: { responsive: true, maintainAspectRatio: false }
            });

            ensureChart('performanceChartWeek', {
                type: 'line', data: { labels: weekDays, datasets: [ { label: 'OEE %', data: [76,77,75,78,79,77,76], borderColor: colors.blue, backgroundColor: colors.blueFill, fill: true, tension: 0.3 } ] }, options: { responsive: true, maintainAspectRatio: false } });

            ensureChart('costChartWeek', { type: 'bar', data: { labels: ['Personal','Energie','Verpackung','Sonstiges'], datasets: [{ label: 'Kosten €', data: [2450,840,1400,290], backgroundColor: [colors.blue, colors.amber, colors.green, colors.red] }] }, options: { responsive: true, maintainAspectRatio: false } });

            ensureChart('productivityChartWeek', { type: 'line', data: { labels: weekDays, datasets: [{ label: 'kg/Stunde', data: [118,120,122,125,123,121,119], borderColor: colors.blue, backgroundColor: colors.blueFill, fill: true, tension: 0.3 }] }, options: { responsive: true, maintainAspectRatio: false } });
        }

        function initMonthCharts(){
            ensureChart('qualityChartMonth', {
                type: 'line', data: { labels: monthDays, datasets: [ { label: 'Qualitätskonformität %', data: monthDays.map((d)=> 96.5 + Math.sin(d/5)*0.8), borderColor: colors.green, backgroundColor: colors.greenFill, fill: true, tension: 0.3 }, { label: 'Ausschuss %', data: monthDays.map(d=> 11 + Math.cos(d/6)*0.7), borderColor: colors.red, backgroundColor: colors.redFill, fill: true, tension: 0.3 } ] }, options: { responsive: true, maintainAspectRatio: false }
            });
            ensureChart('performanceChartMonth', { type: 'line', data: { labels: monthDays, datasets: [{ label: 'OEE %', data: monthDays.map(d=> 77 + Math.sin(d/6)*1.5), borderColor: colors.blue, backgroundColor: colors.blueFill, fill: true, tension: 0.3 }] }, options: { responsive: true, maintainAspectRatio: false } });
            ensureChart('costChartMonth', { type: 'bar', data: { labels: ['Personal','Energie','Verpackung','Sonstiges'], datasets: [{ label: 'Kosten €', data: [9800,3360,5600,1390], backgroundColor: [colors.blue, colors.amber, colors.green, colors.red] }] }, options: { responsive: true, maintainAspectRatio: false } });
            ensureChart('productivityChartMonth', { type: 'line', data: { labels: monthDays, datasets: [{ label: 'kg/Stunde', data: monthDays.map(d=> 120 + Math.sin(d/4)*6), borderColor: colors.blue, backgroundColor: colors.blueFill, fill: true, tension: 0.3 }] }, options: { responsive: true, maintainAspectRatio: false } });
        }

        function initYearCharts(){
            ensureChart('qualityChartYear', { type: 'line', data: { labels: months, datasets: [ { label: 'Qualitätskonformität %', data: months.map((_,i)=> 97 + Math.sin(i/3)), borderColor: colors.green, backgroundColor: colors.greenFill, fill: true, tension: 0.3 }, { label: 'Ausschuss %', data: months.map((_,i)=> 11 + Math.cos(i/3)), borderColor: colors.red, backgroundColor: colors.redFill, fill: true, tension: 0.3 } ] }, options: { responsive: true, maintainAspectRatio: false } });
            ensureChart('performanceChartYear', { type: 'line', data: { labels: months, datasets: [{ label: 'OEE %', data: months.map((_,i)=> 77 + Math.sin(i/2)), borderColor: colors.blue, backgroundColor: colors.blueFill, fill: true, tension: 0.3 }] }, options: { responsive: true, maintainAspectRatio: false } });
            ensureChart('costChartYear', { type: 'bar', data: { labels: ['Personal','Energie','Verpackung','Sonstiges'], datasets: [{ label: 'Kosten €', data: [117600,40320,67200,20680], backgroundColor: [colors.blue, colors.amber, colors.green, colors.red] }] }, options: { responsive: true, maintainAspectRatio: false } });
            ensureChart('productivityChartYear', { type: 'line', data: { labels: months, datasets: [{ label: 'kg/Stunde', data: months.map((_,i)=> 120 + Math.cos(i/3)*4), borderColor: colors.blue, backgroundColor: colors.blueFill, fill: true, tension: 0.3 }] }, options: { responsive: true, maintainAspectRatio: false } });
        }

        // Initialize default (day) charts on load
        initDayCharts();

        // Wire Bootstrap tab events to init charts lazily
        const tabElList = document.querySelectorAll('button[data-bs-toggle="tab"]');
        tabElList.forEach(tabEl => {
            tabEl.addEventListener('shown.bs.tab', function (event) {
                const target = event.target.getAttribute('data-bs-target');
                if (target === '#day') initDayCharts();
                if (target === '#week') initWeekCharts();
                if (target === '#month') initMonthCharts();
                if (target === '#year') initYearCharts();
                // Sync select with active tab
                const sel = document.getElementById('time-period');
                if (sel) {
                    sel.value = target.replace('#','');
                }
            });
        });

        // Period select controls tabs
        const periodSelect = document.getElementById('time-period');
        if (periodSelect) {
            periodSelect.addEventListener('change', (e) => {
                const value = e.target.value; // 'day'|'week'|'month'|'year'
                const btn = document.querySelector(`button[data-bs-target="#${value}"]`);
                if (btn) {
                    const tab = new bootstrap.Tab(btn);
                    tab.show();
                }
            });
        }
    })();
    </script>
</body>
</html>